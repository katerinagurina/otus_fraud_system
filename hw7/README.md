# Схема HW7
![HW7_schema](https://github.com/user-attachments/assets/b1a01323-185c-4de1-a797-3985233ac93d)

Подразумевается, что весь день модель работает на потоке, а в конце для запускается Airflow, оценивает распределение вероятностей модели и сохраняет в MLFlow результат нужно ли переобучать модель. Автоматическое переобучение в данном случае отключено.

# Пример работы модели на потоке

![Model_Inference](https://github.com/user-attachments/assets/d382dde2-1493-4628-a5fd-f7f5267f8e41)


# Airflow скрин
В качестве AB теста для сравнения оценки качества модели я беру вероятности, полученные в ходе работы модели за последний день, и вероятности на тестовой выборке. 
![Airflow](https://github.com/user-attachments/assets/fd01a4d3-e37f-44ce-a437-ac6a33905d2e)


Результат записывается в mlflow

![AB_test_result_mlflow](https://github.com/user-attachments/assets/fe9fb54d-0309-445c-879d-47a2ef72a587)



# Оценка работоспособности модели
Для текущей конфигурации кластера необходимо от 10 поднятых инстансов модели, чтобы выдерживать нагрузку 50 транзакиций/секудну.
![cluster_config](https://github.com/user-attachments/assets/c3e91675-b2f6-49d9-b809-a1c532a067b5)

Если поднято 3 инстанса модели, то они способны обрабатывать 10 транзакций в секунду без скопления очереди.

